---
type Name = 'truck' | 'tow' | 'shield' | 'van' | 'moto' | 'tractor' | 'doc';

interface Props {
  name: Name;
  class?: string;        // ex: "h-6 w-6"
  title?: string;        // si fourni, l’icône n’est plus aria-hidden
  strokeWidth?: number;  // ex: 2 (par défaut)
  // on accepte aussi tout autre attribut (data-*, style, etc.)
  [key: string]: any;
}

const {
  name,
  class: cls = 'h-6 w-6',
  title,
  strokeWidth = 2,
  ...attrs
} = Astro.props as Props;
---

<svg
  {...attrs}
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 24 24"
  class={cls}
  fill="none"
  stroke="currentColor"
  stroke-width={strokeWidth ?? 2}
  stroke-linecap="round"
  stroke-linejoin="round"
  role="img"
  aria-hidden={title ? 'false' : 'true'}
  aria-label={title}
>
  {
    (() => {
      switch (name) {
        case 'truck':
          return (
            <>
              <path d="M3 6h10v8H3zM13 9h4l3 3v2h-7V9z" />
              <circle cx="7" cy="16" r="2" fill="currentColor" />
              <circle cx="17" cy="16" r="2" fill="currentColor" />
            </>
          );
        case 'tow':
          return (
            <>
              <path d="M3 15h13l4-6h-5l-3-4" />
              <circle cx="7" cy="17" r="2" fill="currentColor" />
              <circle cx="17" cy="17" r="2" fill="currentColor" />
            </>
          );
        case 'shield':
          return (
            <path d="M12 3l8 3v6c0 5-3.5 7.5-8 9-4.5-1.5-8-4-8-9V6l8-3z" />
          );
        case 'van':
          return (
            <>
              <path d="M3 8h11v7H3zM14 10h4l3 3v2h-7v-5z" />
              <circle cx="7" cy="17" r="2" fill="currentColor" />
              <circle cx="17" cy="17" r="2" fill="currentColor" />
            </>
          );
        case 'moto':
          return (
            <>
              <circle cx="6" cy="16" r="3" />
              <circle cx="18" cy="16" r="3" />
              <path d="M9 16h6l3-6h-4l-2-2" />
            </>
          );
        case 'tractor':
          return (
            <>
              <circle cx="17" cy="16.5" r="3.5" />
              <circle cx="8" cy="17" r="2" />
              <path d="M3 14h4l1-4h6l2 4h3" />
            </>
          );
        default: // 'doc'
          return (
            <>
              <path d="M7 4h7l4 4v12H7z" />
              <path d="M14 4v4h4" />
            </>
          );
      }
    })()
  }
</svg>
