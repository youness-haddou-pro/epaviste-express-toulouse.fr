---
const { name } = Astro.props as { name: string };
import EcoEngagement from '../components/EcoEngagement.astro';
---

<footer class="relative overflow-hidden border-t border-gray-200 bg-gray-50">
  <!-- Décor discret (feuilles vectorielles) -->
  <div class="pointer-events-none absolute inset-0 opacity-10" aria-hidden="true">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 200 200"
      class="absolute -left-20 -top-10 h-64 w-64 animate-sway text-emerald-700"
      aria-hidden="true"
      focusable="false"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
    >
      <path
        d="M100 10c30 30 45 60 45 90s-15 60-45 90c-30-30-45-60-45-90s15-60 45-90z"
        fill="url(#g1)"
      />
      <defs>
        <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="currentColor" stop-opacity="0.08" />
          <stop offset="100%" stop-color="currentColor" stop-opacity="0.02" />
        </linearGradient>
      </defs>
    </svg>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 200 200"
      class="absolute -right-16 bottom-0 h-72 w-72 animate-sway-rev text-teal-700"
      aria-hidden="true"
      focusable="false"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
    >
      <path
        d="M100 10c30 30 45 60 45 90s-15 60-45 90c-30-30-45-60-45-90s15-60 45-90z"
        fill="url(#g2)"
      />
      <defs>
        <linearGradient id="g2" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="currentColor" stop-opacity="0.08" />
          <stop offset="100%" stop-color="currentColor" stop-opacity="0.02" />
        </linearGradient>
      </defs>
    </svg>
  </div>

  <div class="mx-auto max-w-6xl px-6 pt-12 pb-6">
    <!-- Menu discret -->
    <section aria-labelledby="sitemap-title" class="mt-8 rounded-2xl bg-white/60 p-5 ring-1 ring-gray-200 backdrop-blur">
      <div class="mb-4 flex items-center gap-2">
        <h2 id="sitemap-title" class="text-xs font-semibold uppercase tracking-wide text-gray-700">
          Plan du site
        </h2>
        <span class="h-px flex-1 bg-gradient-to-r from-gray-300/80 to-transparent"></span>
      </div>

      <div class="grid gap-6 md:grid-cols-3">
        <!-- Prestations -->
        <nav class="text-[12.5px] leading-6 text-zinc-600" aria-label="Prestations">
          <h3 class="mb-2 text-[11.5px] font-semibold uppercase tracking-wide text-zinc-500">Prestations</h3>
          <ul class="space-y-1.5">
            <li><a href="/services/" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Services</a></li>
            <li><a href="/depollution/" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Dépollution</a></li>
            <li><a href="/certificat-destruction/" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Certificat de destruction</a></li>
            <li><a href="/zones/" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Zones d’intervention</a></li>
            <li><a href="/contact/" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Contact</a></li>
          </ul>
        </nav>

        <!-- Zones (raccourcis) -->
        <nav class="text-[12.5px] leading-6 text-zinc-600" aria-label="Zones">
          <h3 class="mb-2 text-[11.5px] font-semibold uppercase tracking-wide text-zinc-500">Zones</h3>
          <ul class="space-y-1.5">
            <li><a href="/blog/?ville=Toulouse" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Toulouse</a></li>
            <li><a href="/blog/?ville=Colomiers" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Colomiers</a></li>
            <li><a href="/blog/?ville=Blagnac" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Blagnac</a></li>
            <li><a href="/zones/" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Voir toutes les zones</a></li>
          </ul>
        </nav>

        <!-- Infos & Légal -->
        <nav class="text-[12.5px] leading-6 text-zinc-600" aria-label="Infos">
          <h3 class="mb-2 text-[11.5px] font-semibold uppercase tracking-wide text-zinc-500">Infos</h3>
          <ul class="space-y-1.5">
            <li><a href="/blog/" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Blog</a></li>
            <li><a href="/blog/rss.xml" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500" rel="alternate" type="application/rss+xml"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>RSS</a></li>
            <li><a href="/mentions-legales" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Mentions légales</a></li>
            <li><a href="/politique-confidentialite" class="inline-flex items-center gap-2 rounded-md px-1 py-0.5 transition hover:-translate-y-0.5 hover:text-gray-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"><span class="h-1.5 w-1.5 rounded-full bg-zinc-300"></span>Confidentialité</a></li>
          </ul>
        </nav>
      </div>
    </section>

    <!-- Ligne 1 : copyright + liens légaux -->
    <div class="mt-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between text-sm text-gray-600">
      <p>© {new Date().getFullYear()} {name}. Tous droits réservés.</p>

      <nav class="flex flex-wrap items-center gap-x-4 gap-y-2" aria-label="Liens légaux">
        <a href="/mentions-legales" class="hover:underline">Mentions légales</a>
        <span class="text-gray-400" aria-hidden="true">·</span>
        <a href="/politique-confidentialite" class="hover:underline">Politique de confidentialité</a>
        <span class="text-gray-400" aria-hidden="true">·</span>
        <a href="/blog/" class="hover:underline">Blog</a>
        <span class="text-gray-400" aria-hidden="true">·</span>
        <a href="/blog/rss.xml" class="hover:underline" rel="alternate" type="application/rss+xml">RSS</a>
      </nav>
    </div>
  </div>
</footer>

<style is:global>
/* Animations très légères et accessibles */
@keyframes sway { 0%{ transform: rotate(-2deg) translateY(0);} 50%{ transform: rotate(2deg) translateY(2px);} 100%{ transform: rotate(-2deg) translateY(0);} }
@keyframes sway-rev { 0%{ transform: rotate(2deg) translateY(0);} 50%{ transform: rotate(-2deg) translateY(2px);} 100%{ transform: rotate(2deg) translateY(0);} }
@keyframes breathe { 0%{ transform: scale(1);} 50%{ transform: scale(1.05);} 100%{ transform: scale(1);} }
.animate-sway { animation: sway 8s ease-in-out infinite; }
.animate-sway-rev { animation: sway-rev 9s ease-in-out infinite; }
.animate-breathe { animation: breathe 3.5s ease-in-out infinite; }
@media (prefers-reduced-motion: reduce) {
  .animate-sway, .animate-sway-rev, .animate-breathe { animation: none !important; }
}
</style>
